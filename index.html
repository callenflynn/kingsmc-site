<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kings MC Network</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    background: #111;
    color: #eee;
    font-family: Georgia, serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  nav {
    display: flex;
    width: 100%;
    max-width: 900px;
    background: #222;
    border-bottom: 1px solid #333;
    margin-top: 1rem;
  }
  nav button {
    flex: 1;
    background: #222;
    border: none;
    color: #ccc;
    padding: 1rem;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s;
    font-family: inherit;
    outline-offset: 2px;
  }
  nav button:focus-visible {
    outline: 2px solid #e3b341;
  }
  nav button.active, nav button:hover {
    background: #333;
    color: #e3b341;
  }
  main {
    flex: 1;
    max-width: 900px;
    width: 90%;
    padding: 1.5rem 1rem 5rem;
    position: relative;
    overflow: hidden;
  }
  #tabContentSlider {
    display: flex;
    width: 400%;
    transition: transform 0.5s ease;
  }
  main > section {
    flex: 1 0 25%;
    box-sizing: border-box;
    padding: 0 1rem;
    text-align: center;
  }
  img.logo {
    max-width: 280px;
    height: auto;
    margin-bottom: 1rem;
  }
  .buttons {
    margin-top: 1rem;
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }
  button.copy, a.button-link {
    background-color: #e3b341;
    color: #111;
    border: none;
    border-radius: 4px;
    padding: 0.8rem 1.4rem;
    font-size: 1rem;
    cursor: pointer;
    text-decoration: none;
    transition: background-color 0.25s ease;
  }
  .copy-feedback {
    margin-top: 0.8rem;
    font-size: 0.9rem;
    color: #7fff7f;
    min-height: 1.2em;
    opacity: 1;
    transition: opacity 0.5s ease;
    user-select: none;
  }
  .stats-section {
    background: #1a1a1a;
    border-radius: 6px;
    margin: 1rem auto;
    padding: 1rem 1.2rem;
    text-align: left;
  }
  .smp-section {
    border-left: 4px solid #e3b341;
  }
  .lifesteal-section {
    border-left: 4px solid #e74c3c;
  }
  .section-title {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
  }
  .smp-title {
    color: #e3b341;
  }
  .lifesteal-title {
    color: #e74c3c;
  }
  .players-list span {
    display: inline-block;
    margin: 0 3px 4px 0;
    padding: 3px 7px;
    background: #333;
    border-radius: 3px;
  }
  .status-dot {
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    margin-right: 6px;
    vertical-align: middle;
  }
  .dot-online {
    background-color: #2ecc71;
  }
  .dot-offline {
    background-color: #e74c3c;
  }
  footer.server-ip {
    margin-top: 1rem;
    font-size: 0.95rem;
    color: #777;
  }
  .bottom-crown {
    position: fixed;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 30px;
    opacity: 0.15;
    pointer-events: none;
  }
  ul.rules-list {
    text-align: left;
    list-style: none;
    padding-left: 0;
  }
  ul.rules-list li {
    margin-bottom: 0.75rem;
  }
</style>
</head>
<body>

<nav>
  <button id="tabHome" class="active">Home</button>
  <button id="tabStats">Server Stats</button>
  <button id="tabRules">Rules</button>
  <button id="tabCredits">Credits</button>
</nav>

<main>
  <div id="tabContentSlider">
    <!-- Home -->
    <section>
      <img src="kingsmc.png" alt="Logo" class="logo" />
      <p>Join our Minecraft server featuring <strong>SMP</strong> and <strong>Lifesteal</strong> modes, an active Discord community, and an overall fun experience!</p>
      <div class="buttons">
        <a href="https://discord.gg/VJeepweWRr" class="button-link" target="_blank">Join Discord</a>
        <button class="copy" id="copyButton">Copy Server IP</button>
      </div>
      <div class="copy-feedback" id="copyFeedback"></div>
      <footer class="server-ip">Server IP: <code>135.181.60.153:20011</code></footer>
    </section>

    <!-- Server Stats -->
    <section>
      <h2>Server Status</h2>
      <div class="stats-section smp-section">
        <div class="section-title smp-title">SMP Server</div>
        <p id="smpStatus"><span class="status-dot dot-offline"></span>Loading SMP data...</p>
        <div id="smpOutput"></div>
        <div id="smpPlayers" class="players-list"></div>
      </div>
      <div class="stats-section lifesteal-section">
        <div class="section-title lifesteal-title">Lifesteal Server</div>
        <p id="lifestealStatus"><span class="status-dot dot-offline"></span>Loading Lifesteal data...</p>
        <div id="lifestealOutput"></div>
        <div id="lifestealPlayers" class="players-list"></div>
      </div>
    </section>

    <!-- Rules -->
    <section style="text-align:left;">
      <h2>üßë‚Äçü§ù‚Äçüßë SMP Rules</h2>
      <ul class="rules-list">
        <li>Respect Everyone. No bullying, harassment, hate speech, or discrimination.</li>
        <li>Be kind and considerate to all players.</li>
        <li>No spamming or inappropriate content.</li>
        <li>No griefing or stealing. Always get permission.</li>
        <li>No hacking or unfair mods. Optifine/minimaps allowed.</li>
        <li>PvP must be consensual. No spawn killing.</li>
        <li>No exploits or duplication glitches.</li>
        <li>Build respectfully and avoid lag.</li>
        <li>Clean up after yourself.</li>
        <li>Staff must show proof of bans. No admin abuse.</li>
        <li>Bots must not spam or disrupt gameplay.</li>
      </ul>
      <h2>üíî Lifesteal Rules</h2>
      <p>üö´ NO RULES üö´<br>Do whatever you want. No bans on Lifesteal.</p>
    </section>

    <!-- Credits -->
    <section>
      <h2>Credits</h2>
      <p><strong>Web Developer:</strong> Callen</p>
      <p><strong>Server Owner:</strong> Samuel King</p>
    </section>
  </div>
</main>

<svg class="bottom-crown" viewBox="0 0 64 32" xmlns="http://www.w3.org/2000/svg">
  <g fill="#e3b341" stroke="#b08c22" stroke-width="1">
    <path d="M4 28 L10 10 L14 22 L20 8 L24 20 L30 6 L34 20 L38 8 L44 22 L48 10 L54 28 Z"/>
    <rect x="10" y="26" width="34" height="4" rx="1" ry="1"/>
  </g>
</svg>

<script>
const tabs = [
  {button: document.getElementById("tabHome"), index:0},
  {button: document.getElementById("tabStats"), index:1},
  {button: document.getElementById("tabRules"), index:2},
  {button: document.getElementById("tabCredits"), index:3}
];
const slider = document.getElementById("tabContentSlider");
const copyButton = document.getElementById("copyButton");
const copyFeedback = document.getElementById("copyFeedback");
const serverIP = "135.181.60.153:20011";

tabs.forEach(({button,index})=>{
  button.addEventListener("click",()=>{
    tabs.forEach(t=>t.button.classList.remove("active"));
    button.classList.add("active");
    slider.style.transform = `translateX(-${index*25}%)`;
    if(index===1) loadServerStats();
  });
});

copyButton.addEventListener("click",()=>{
  navigator.clipboard.writeText(serverIP).then(()=>{
    copyFeedback.textContent="Copied!";
    copyFeedback.style.opacity="1";
    setTimeout(()=>copyFeedback.style.opacity="0",1500);
  });
});

function loadServerStats(){
  fetchServer("https://api.mcsrvstat.us/2/95.217.120.159:10015",
    document.getElementById("smpStatus"),
    document.getElementById("smpOutput"),
    document.getElementById("smpPlayers"));
  fetchServer("https://api.mcsrvstat.us/2/65.109.155.228:15015",
    document.getElementById("lifestealStatus"),
    document.getElementById("lifestealOutput"),
    document.getElementById("lifestealPlayers"));
}
function fetchServer(url,statusEl,outputEl,playersEl){
  statusEl.innerHTML='<span class="status-dot dot-offline"></span>Loading...';
  outputEl.innerHTML="";
  playersEl.innerHTML="";
  fetch(url).then(r=>r.json()).then(data=>{
    if(!data.online){
      statusEl.innerHTML='<span class="status-dot dot-offline"></span>Server offline.';
      return;
    }
    statusEl.innerHTML='<span class="status-dot dot-online"></span>Server online.';
    outputEl.innerHTML=`<strong>Version:</strong> ${data.version||"N/A"}<br><strong>Players:</strong> ${data.players?.online||0} / ${data.players?.max||0}<br><strong>MOTD:</strong> ${data.motd?.clean?.join(" ")||"N/A"}`;
    playersEl.innerHTML=data.players?.list?.map(p=>`<span>${p}</span>`).join("")||"";
  }).catch(()=>statusEl.innerHTML='<span class="status-dot dot-offline"></span>Error loading data.');
}
</script>
</body>
</html>
